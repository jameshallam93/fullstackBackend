(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(1),o=t.n(c),a=t(15),u=t.n(a),i=t(3),l=t(4),s=function(e){var n=e.person,t=e.handleDelete;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{style:{color:"green",fontStyle:"italic"},children:Object(r.jsxs)("b",{children:[n.name," - ",n.number]})}),Object(r.jsx)("button",{onClick:function(){return t(n.id)},children:"Delete"})]})},d=function(e){var n=e.value,t=e.onChange;return Object(r.jsxs)("div",{children:["Filter shown with",Object(r.jsx)("input",{value:n,onChange:t})]})},b=function(e){var n=e.text;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("h1",{style:{color:"blue",textDecoration:"underline"},children:n})})},j=function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(r.jsxs)("div",{children:["Name:",Object(r.jsx)("input",{value:e.valuePers,onChange:e.onPersChange}),"Number:",Object(r.jsx)("input",{value:e.valueNum,onChange:e.onNumChange})]}),Object(r.jsx)("button",{type:"submit",children:"create new"})]})})},h=function(e){var n=e.message;if(null==n)return null;var t={color:"green",background:"lightgrey",fontSize:16,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},c=Object(i.a)(Object(i.a)({},t),{},{color:"red"}),o=n.includes("Error")?c:t;return console.log("Notification: ".concat(n)),Object(r.jsx)("div",{style:o,children:n})},f=t(5),m=t.n(f),O="/api/persons",g=function(){return m.a.get(O).then((function(e){return e.data}))},v=function(e){return m.a.post(O,e).then((function(e){return e.data}))},x=function(e){m.a.delete("".concat(O,"/").concat(e))},p=function(e,n){return console.log(e),m.a.put("".concat(O,"/").concat(n),e).then((function(e){return e.data}))},w=function(){var e=Object(c.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],a=Object(c.useState)(""),u=Object(l.a)(a,2),f=u[0],m=u[1],O=Object(c.useState)(""),w=Object(l.a)(O,2),y=w[0],S=w[1],C=Object(c.useState)(""),k=Object(l.a)(C,2),N=k[0],D=k[1],E=Object(c.useState)(null),F=Object(l.a)(E,2),L=F[0],P=F[1];Object(c.useEffect)((function(){g().then((function(e){o(e)}))}),[]);var A=function(){return!(""===N)}?t.filter((function(e){return e.name.toLowerCase().includes(N.toLowerCase())})):t,B=function(e){P(e),setTimeout((function(){P(null)}),5e3)},G=function(e){if(window.confirm("".concat(e.name," is already added to the phonebook, replace the old number with a new one?"))){var n=t.filter((function(n){return n.name===e.name}))[0].id;!function(e,n){p(e,n).then((function(e){return o(t.map((function(t){return t.id!==n?t:e})))})).catch((function(){B("Error: ".concat(e.name," has already been deleted from the server"))})),B("".concat(e.name," has been updated"))}(e,n)}},J=function(e){var n=t.filter((function(n){return n.id===e}))[0].name;window.confirm("Are you sure you want to delete ".concat(n,"?"))&&(x(e),o(t.filter((function(n){return n.id!==e}))),B("".concat(n," has been deleted")))},T={border:"solid",color:"green",margin:"left",width:300,background:"lightGreen"},z=Object(i.a)(Object(i.a)({},T),{},{width:475,height:55}),I=Object(i.a)(Object(i.a)({},T),{},{height:35});return Object(r.jsxs)("div",{style:{background:"lightGrey"},children:[Object(r.jsx)(b,{text:"Search for a name"}),Object(r.jsx)(h,{message:L}),Object(r.jsx)("div",{style:I,children:Object(r.jsx)(d,{value:N,onChange:function(e){D(e.target.value)}})}),Object(r.jsx)(b,{text:"Add a new contact"}),Object(r.jsx)("div",{style:z,children:Object(r.jsx)(j,{onSubmit:function(e){e.preventDefault();var n,r={name:f,number:y};n=f,t.map((function(e){return e.name})).includes(n)?G(r):(v(r).then((function(e){o(t.concat(e))})),m(""),S(""),B("".concat(f," has been added to the phonebook")))},valuePers:f,valueNum:y,onPersChange:function(e){return m(e.target.value)},onNumChange:function(e){return S(e.target.value)}})}),Object(r.jsx)(b,{text:"Numbers"}),Object(r.jsx)("div",{style:T,children:A.map((function(e){return Object(r.jsx)(s,{person:e,handleDelete:J},e.name)}))})]})};u.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(w,{people:[{name:"Ada Lovelace",number:"01235 760906"},{name:"Tom Laurence",number:"01235 768446"}]})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.6b722d21.chunk.js.map