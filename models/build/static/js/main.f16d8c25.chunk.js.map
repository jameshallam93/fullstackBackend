{"version":3,"sources":["components/Person.js","components/Filter.js","components/Heading.js","components/Form.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleDelete","style","color","fontStyle","name","number","onClick","id","Filter","value","onChange","Heading","text","textDecoration","Form","props","onSubmit","valuePers","onPersChange","valueNum","onNumChange","type","Notification","message","messageStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","styleToUse","includes","baseUrl","Axios","get","then","response","data","post","delete","console","log","put","App","useState","persons","setPersons","newPerson","setNewPerson","newNumber","setNewNumber","newSearch","setSearch","notificationMessage","setMessage","useEffect","PersonService","initialPersons","filteredPersons","filter","toLowerCase","setMessageTimeout","setTimeout","handleExistingPerson","personObject","window","confirm","returnedPerson","map","catch","updatePerson","personToDelete","personBoxStyle","border","margin","width","formBoxStyle","height","searchBoxStyle","event","target","preventDefault","concat","error","ReactDOM","render","StrictMode","people","document","getElementById"],"mappings":"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","file":"static/js/main.f16d8c25.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({person, handleDelete}) =>{\r\n    const personStyle = {\r\n        color:\"green\",\r\n        fontStyle:\"italic\",\r\n    }\r\n    return (\r\n        <>\r\n            <p style = {personStyle}><b>{person.name} - {person.number}</b></p>\r\n            <button onClick = {() => handleDelete(person.id)}>Delete</button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Person","import React from \"react\";\r\n\r\n\r\n\r\nconst Filter = ({value, onChange}) =>\r\n\r\n    <div>\r\n      Filter shown with  \r\n          <input value = {value}\r\n            onChange ={onChange}>\r\n          </input>\r\n    </div>\r\n\r\n\r\nexport default Filter","import React from \"react\";\r\n\r\nconst Heading = ({text}) =>{\r\n\r\n    const headingStyle = {\r\n        color:\"blue\",\r\n        textDecoration:\"underline\"\r\n    }\r\n\r\n    return(\r\n    <>\r\n        <h1 style = {headingStyle}>\r\n            {text}\r\n        </h1>\r\n    </>\r\n    )\r\n}\r\nexport default Heading","import React from 'react';\r\nimport Heading from \"./Heading\"\r\n\r\nconst Form = (props)=>\r\n\r\n    <>\r\n      <form onSubmit = {props.onSubmit}>\r\n\r\n        <div>\r\n          Name:\r\n          <input value = {props.valuePers}\r\n          onChange = {props.onPersChange}>\r\n          </input>\r\n\r\n          Number:\r\n          <input value = {props.valueNum}\r\n          onChange = {props.onNumChange}></input>\r\n        </div>\r\n\r\n        <button type = {\"submit\"}>create new</button>\r\n        \r\n      </form>\r\n    </>\r\n    \r\n\r\n\r\nexport default Form\r\n","const Notification = ({message}) =>{\r\n\r\n    if (message == null){\r\n        return null\r\n\r\n    }else\r\n    {\r\n        const messageStyle = {\r\n            color:\"green\",\r\n            background:\"lightgrey\",\r\n            fontSize:16,\r\n            borderStyle:\"solid\",\r\n            borderRadius:5,\r\n            padding:10,\r\n            marginBottom:10\r\n        }\r\n        const errorStyle = {\r\n            ...messageStyle,\r\n            color:\"red\"\r\n        }\r\n        const styleToUse = (\r\n            message.includes(\"Error\") ?\r\n            errorStyle \r\n            :\r\n            messageStyle\r\n        )\r\n\r\n\r\n\r\n        return(\r\n            <div style = {styleToUse}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import Axios from \"axios\"\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () =>{\r\nconst response = Axios.get(baseUrl)\r\nreturn response.then(response => response.data)\r\n}\r\n\r\nconst addNew = (person) =>{\r\n    const request = Axios.post(baseUrl, person)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (person, id) =>{\r\n    console.log(person)\r\n    const request = Axios.put(`${baseUrl}/${id}`, person)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst handleDelete = (id) =>{\r\n   Axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default{ getAll, addNew, handleDelete, update }","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Person from \"./components/Person\"\r\nimport Filter from \"./components/Filter\"\r\nimport Form from \"./components/Form\"\r\nimport Heading from \"./components/Heading\"\r\nimport Notification from \"./components/Notification\"\r\nimport PersonService from \"./services/persons\"\r\nimport { getNodeText } from \"@testing-library/react\";\r\n\r\nconst App = () => {\r\n\r\n    const [persons, setPersons] = useState([])\r\n\r\n    const [newPerson, setNewPerson] = useState(\"\")\r\n  \r\n    const [newNumber, setNewNumber] = useState(\"\")\r\n  \r\n    const [newSearch, setSearch] = useState(\"\")\r\n\r\n    const [notificationMessage, setMessage] = useState(null)\r\n\r\n    useEffect(()=>{\r\n      PersonService.getAll()\r\n      .then(initialPersons =>{\r\n        setPersons(initialPersons)\r\n      })\r\n    },[])\r\n\r\n    //check to see if anything has been entered in the search/filter box\r\n    const isSearch = () =>{\r\n      return !(newSearch === \"\")\r\n    }\r\n\r\n    //if search box is empty, return all - otherwise only return those that include newSearch state\r\n    //toLowerCase ensures caps don't matter in search term\r\n    const filteredPersons = (\r\n      isSearch ?\r\n      persons.filter(person =>\r\n        person.name.toLowerCase().includes(newSearch.toLowerCase()))\r\n        :\r\n        persons\r\n    )\r\n\r\n    // checks to see if persons state contains a name already\r\n    const listContainsName = (name) =>{\r\n      const names = persons.map(person =>{\r\n        return person.name\r\n      })\r\n      return names.includes(name)\r\n    }\r\n\r\n    // avoid copy/paste code\r\n    const setMessageTimeout = (message) =>{\r\n      setMessage(message)\r\n      setTimeout(()=>{setMessage(null)},5000)\r\n    }\r\n\r\n    const updatePerson = (personObject, id) =>{\r\n      PersonService.update(personObject, id)\r\n      .then(returnedPerson =>\r\n        setPersons(persons.map(person =>\r\n          person.id !== id ? \r\n          person \r\n          :\r\n          returnedPerson)))\r\n          .catch(() =>{\r\n            setMessageTimeout(`Error: ${personObject.name} has already been deleted from the server`)\r\n          })\r\n      setMessageTimeout(`${personObject.name} has been updated`)\r\n    }\r\n\r\n    const handleExistingPerson = (personObject) =>{\r\n      if (window.confirm(\r\n        `${personObject.name} is already added to the phonebook, replace the old number with a new one?`)){\r\n          //finds the id of the \"new\" person object from persons state\r\n          const id = persons.filter(person =>\r\n            person.name === personObject.name)[0].id\r\n          updatePerson(personObject, id)\r\n        \r\n      }\r\n    }\r\n\r\n    const handleNewPerson = (event) =>{\r\n      //prevents default form handling\r\n      event.preventDefault()\r\n      //two state strings linked to text boxes\r\n      const personObject = {\r\n        name: newPerson,\r\n        number: newNumber\r\n      }\r\n\r\n      //checks to see if persons state already contains newPerson, and handles update if so\r\n      if(listContainsName(newPerson)){\r\n        handleExistingPerson(personObject)\r\n      }\r\n      else{\r\n      PersonService\r\n      .addNew(personObject)\r\n      .then(returnedPerson =>{\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNewPerson(\"\")\r\n        setNewNumber(\"\")\r\n        setMessageTimeout(`${newPerson} has been added to the phonebook`)\r\n      })\r\n      .catch(error =>\r\n        setMessageTimeout(error.response.data.error))\r\n      }\r\n    }\r\n\r\n    const handleDelete = (id) =>{\r\n\r\n      const personToDelete = persons.filter(person => person.id === id)[0].name\r\n\r\n      if (window.confirm(`Are you sure you want to delete ${personToDelete}?`)){\r\n      PersonService.handleDelete(id)\r\n      setPersons(persons.filter(person => \r\n        person.id !== id))\r\n        setMessageTimeout(`${personToDelete} has been deleted`)\r\n      }\r\n    }\r\n    \r\n    const uniStyle = {\r\n      background:\"lightGrey\"\r\n    }\r\n    const personBoxStyle = {\r\n      border:\"solid\",\r\n      color:\"green\",\r\n      margin:\"left\",\r\n      width:300,\r\n      background:\"lightGreen\"\r\n    }\r\n    const formBoxStyle = {\r\n      ...personBoxStyle,\r\n      width:475,\r\n      height:55\r\n    }\r\n    const searchBoxStyle = {\r\n      ...personBoxStyle,\r\n      height:35\r\n    }\r\n\r\n    return(\r\n        <div style = {uniStyle}>\r\n\r\n          <Heading text = {\"Search for a name\"}/>\r\n\r\n          <Notification message = {notificationMessage}/>\r\n\r\n          <div style = {searchBoxStyle}>\r\n\r\n            <Filter value = {newSearch}\r\n              onChange = {(event) =>{\r\n                setSearch(event.target.value)}}\r\n            />\r\n\r\n          </div>\r\n\r\n          <Heading text = {\"Add a new contact\"}/>\r\n\r\n          <div style = {formBoxStyle}>\r\n\r\n            <Form onSubmit = {handleNewPerson}\r\n              valuePers = {newPerson}\r\n              valueNum = {newNumber}\r\n              //event handlers for updating state to match what is in input box\r\n              //without these, text box is not mutable.\r\n              onPersChange = {(event) => setNewPerson(event.target.value)}\r\n              onNumChange = {(event) => setNewNumber(event.target.value)}\r\n              />\r\n\r\n          </div>\r\n\r\n\r\n          <Heading text = {\"Numbers\"}/>\r\n\r\n          <div style = {personBoxStyle}>\r\n\r\n            {filteredPersons.map(person =>\r\n              <Person key = {person.name} \r\n              person = {person} \r\n              handleDelete = {handleDelete}\r\n              />\r\n            )}\r\n\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default App","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\"\n\n//base person objects for ease - no longer used\nconst people = [{name:\"Ada Lovelace\", number: \"01235 760906\"},\n{name: \"Tom Laurence\", number: \"01235 768446\"}]\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App people = {people}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}